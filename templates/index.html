<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>India Crime Risk (Demo)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b1220; --card:#0f172a; --muted:#94a3b8; --text:#e2e8f0; --accent:#22d3ee; --ok:#22c55e; --warn:#f59e0b; --bad:#ef4444;
      --ring:0 0 0 3px rgba(34,211,238,.25);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background: radial-gradient(1200px 600px at 80% -10%, rgba(34,211,238,.08), transparent),
                  radial-gradient(1000px 500px at -10% 10%, rgba(99,102,241,.08), transparent),
                  var(--bg);
      color:var(--text);
    }
    .container{max-width:1100px;margin:0 auto;padding:24px}
    header{display:flex;align-items:center;gap:12px;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:42px;height:42px;display:grid;place-items:center;border-radius:12px;background:linear-gradient(135deg,#06b6d4,#3b82f6);box-shadow:0 10px 30px rgba(59,130,246,.3)}
    .logo span{font-weight:800;color:#fff}
    .title h1{font-size:22px;margin:0}
    .title p{margin:4px 0 0;color:var(--muted);font-size:12px}

    .grid{display:grid;grid-template-columns:1.1fr .9fr;gap:20px;margin-top:22px}
    @media (max-width:900px){.grid{grid-template-columns:1fr}}

    .card{background:linear-gradient(180deg, rgba(255,255,255,.04), transparent 60%), var(--card); border:1px solid rgba(148,163,184,.15); padding:18px; border-radius:16px; box-shadow:0 8px 30px rgba(2,6,23,.35)}
    .card h2{margin:0 0 12px;font-size:18px}
    .sub{color:var(--muted);font-size:12px;margin-top:-6px}

    .form{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .form .full{grid-column:1 / -1}
    .control{display:flex;flex-direction:column;gap:6px}
    label{font-size:12px;color:#cbd5e1}
    input[type="text"], select, input[type="number"], .slider{width:100%;background:#0b1326;border:1px solid rgba(148,163,184,.18);color:var(--text);border-radius:12px;padding:12px;outline:none}
    input[type="text"]:focus, select:focus, input[type="number"]:focus{box-shadow:var(--ring);border-color:#22d3ee}

    .slider{height:auto}
    input[type="range"]{appearance:none;width:100%;height:10px;border-radius:8px;background:#0b1326;outline:none}
    input[type="range"]::-webkit-slider-thumb{appearance:none;width:18px;height:18px;border-radius:50%;background:linear-gradient(135deg,#06b6d4,#3b82f6);box-shadow:0 2px 10px rgba(59,130,246,.5);cursor:pointer;border:none}

    .actions{display:flex;gap:10px;flex-wrap:wrap}
    button{border:0;padding:12px 14px;border-radius:12px;background:linear-gradient(135deg,#06b6d4,#3b82f6);color:#fff;font-weight:700;cursor:pointer}
    button.secondary{background:#0b1326;color:#e2e8f0;border:1px solid rgba(148,163,184,.2)}
    button:focus{box-shadow:var(--ring)}

    .resultWrap{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:900px){.resultWrap{grid-template-columns:1fr}}

    .gauge{
      --size:230px; --thick:22px; --value:50; --color: var(--warn);
      width:var(--size); height:var(--size); border-radius:50%; margin:auto; position:relative;
      background:
        radial-gradient(farthest-side, transparent calc(99% - var(--thick)), rgba(2,6,23,.85) calc(100% - var(--thick))),
        conic-gradient(var(--color) calc(var(--value) * 1%), #1f2937 0);
      box-shadow: inset 0 0 0 1px rgba(148,163,184,.15), 0 10px 40px rgba(2,6,23,.6);
    }
    .gInner{position:absolute;inset:calc(var(--thick) + 8px);border-radius:50%;display:grid;place-items:center}
    .score{font-size:48px;font-weight:800}
    .pill{padding:6px 10px;border-radius:999px;font-size:12px;margin-top:6px;display:inline-grid;place-items:center}
    .pill.low{background:rgba(34,197,94,.15);color:var(--ok);}
    .pill.med{background:rgba(245,158,11,.15);color:var(--warn);}
    .pill.high{background:rgba(239,68,68,.15);color:var(--bad);}

    .list{display:grid;gap:10px;margin-top:8px}
    .item{display:flex;gap:10px;align-items:flex-start}
    .dot{width:8px;height:8px;border-radius:50%;margin-top:7px;background:var(--accent)}
    .muted{color:var(--muted);font-size:13px}

    footer{margin-top:18px;font-size:12px;color:var(--muted)}
    .badge{display:inline-block;padding:6px 8px;border-radius:10px;background:#0b1326;border:1px solid rgba(148,163,184,.18);font-size:11px}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo"><span>CR</span></div>
        <div class="title">
          <h1>India Crime Risk — Demo (HTML/CSS)</h1>
          <p class="sub">A front‑end sample app that estimates <em>relative</em> risk from simple factors. No real crime data, no tracking.</p>
        </div>
      </div>
      <span class="badge">Static front‑end • No backend</span>
    </header>

    <div class="grid">
      <!-- Inputs Card -->
      <section class="card">
        <h2>Input Factors</h2>
        <p class="sub">Choose basic context. The scoring is heuristic only for demo/learning.</p>
        <form id="riskForm" class="form" onsubmit="event.preventDefault();predict()">
          <div class="control">
            <label for="state">State/UT</label>
            <select id="state" required>
              <option value="">Select…</option>
              <option>Andhra Pradesh</option>
              <option>Arunachal Pradesh</option>
              <option>Assam</option>
              <option>Bihar</option>
              <option>Chhattisgarh</option>
              <option>Delhi</option>
              <option>Goa</option>
              <option>Gujarat</option>
              <option>Haryana</option>
              <option>Himachal Pradesh</option>
              <option>Jammu and Kashmir</option>
              <option>Jharkhand</option>
              <option>Karnataka</option>
              <option>Kerala</option>
              <option>Madhya Pradesh</option>
              <option>Maharashtra</option>
              <option>Manipur</option>
              <option>Meghalaya</option>
              <option>Mizoram</option>
              <option>Nagaland</option>
              <option>Odisha</option>
              <option>Punjab</option>
              <option>Rajasthan</option>
              <option>Sikkim</option>
              <option>Tamil Nadu</option>
              <option>Telangana</option>
              <option>Tripura</option>
              <option>Uttar Pradesh</option>
              <option>Uttarakhand</option>
              <option>West Bengal</option>
              <option>Andaman and Nicobar Islands</option>
              <option>Chandigarh</option>
              <option>Dadra and Nagar Haveli and Daman and Diu</option>
              <option>Ladakh</option>
              <option>Lakshadweep</option>
              <option>Puducherry</option>
            </select>
          </div>
          <div class="control">
            <label for="city">City/Locality (optional)</label>
            <input id="city" type="text" placeholder="e.g., Salt Lake, Kolkata" />
          </div>

          <div class="control">
            <label for="time">Time of Day</label>
            <select id="time">
              <option>Day</option>
              <option>Evening</option>
              <option>Night</option>
            </select>
          </div>
          <div class="control">
            <label for="weekday">Day Type</label>
            <select id="weekday">
              <option>Weekday</option>
              <option>Weekend</option>
              <option>Holiday/Event</option>
            </select>
          </div>

          <div class="control">
            <label for="month">Month/Season</label>
            <select id="month">
              <option value="1">Jan</option>
              <option value="2">Feb</option>
              <option value="3">Mar</option>
              <option value="4">Apr</option>
              <option value="5">May</option>
              <option value="6">Jun</option>
              <option value="7">Jul</option>
              <option value="8">Aug</option>
              <option value="9">Sep</option>
              <option value="10">Oct</option>
              <option value="11">Nov</option>
              <option value="12">Dec</option>
            </select>
          </div>

          <div class="control full">
            <label for="density">Crowd / Density (people per sq-km, approx)</label>
            <input id="density" type="range" min="50" max="30000" step="50" value="4000" oninput="dOut.textContent=this.value">
            <div class="muted">Value: <span id="dOut">4000</span></div>
          </div>

          <div class="control">
            <label for="policing">Police Presence</label>
            <select id="policing">
              <option>Low</option>
              <option>Medium</option>
              <option>High</option>
            </select>
          </div>
          <div class="control">
            <label for="lighting">Street Lighting</label>
            <select id="lighting">
              <option>Poor</option>
              <option>Average</option>
              <option>Good</option>
            </select>
          </div>

          <div class="control full">
            <label for="category">Concern Category (affects weighting)</label>
            <select id="category">
              <option>General</option>
              <option>Theft/Snatching</option>
              <option>Assault</option>
              <option>Burglary</option>
              <option>Harassment</option>
            </select>
          </div>

          <div class="actions full">
            <button type="submit">Predict Risk</button>
            <button type="button" class="secondary" onclick="resetForm()">Reset</button>
          </div>
        </form>
      </section>

      <!-- Results Card -->
      <section class="card">
        <h2>Estimated Risk</h2>
        <p class="sub">Relative 0–100 score with plain‑English summary.</p>
        <div class="resultWrap">
          <div class="gauge" id="gauge">
            <div class="gInner">
              <div style="text-align:center">
                <div class="score" id="score">—</div>
                <div id="level" class="pill" style="opacity:.9">No score</div>
              </div>
            </div>
          </div>
          <div>
            <div class="list" id="explain">
              <div class="item"><div class="dot"></div><div>
                <strong>How this works</strong>
                <div class="muted">This is a <em>demo heuristic</em> (front‑end only). It combines selected factors into a simple score. It does not use real crime statistics.</div>
              </div></div>
              <div class="item"><div class="dot"></div><div class="muted">Use this template in projects, replace the scoring with your own model or API.
              </div></div>
            </div>
          </div>
        </div>
        <footer>
          <p>⚠️ Disclaimer: Not for emergency or safety decisions. For urgent help in India, dial <strong>112</strong>.</p>
        </footer>
      </section>
    </div>
  </div>

  <script>
    // --- lightweight baseline by state (arbitrary demo values) ---
    const stateBase = {
      "Delhi": 68, "Maharashtra": 55, "Uttar Pradesh": 60, "Karnataka": 45, "West Bengal": 48,
      "Tamil Nadu": 42, "Gujarat": 40, "Rajasthan": 46, "Bihar": 52, "Kerala": 35, "Telangana": 43,
      "Madhya Pradesh": 50, "Punjab": 44, "Haryana": 49, "Jharkhand": 47, "Odisha": 41,
      "Assam": 53, "Chhattisgarh": 45, "Goa": 28, "Uttarakhand": 32, "Himachal Pradesh": 26,
      "Jammu and Kashmir": 38, "Arunachal Pradesh": 24, "Manipur": 36, "Meghalaya": 30,
      "Mizoram": 22, "Nagaland": 20, "Sikkim": 25, "Tripura": 33, "Andhra Pradesh": 44,
      "Puducherry": 46, "Chandigarh": 50, "Ladakh": 18, "Lakshadweep": 12,
      "Andaman and Nicobar Islands": 27, "Dadra and Nagar Haveli and Daman and Diu": 34
    };

    function clamp(n,min,max){return Math.max(min, Math.min(max,n));}

    function weightByCategory(cat, score){
      const w = {"General":1, "Theft/Snatching":1.1, "Assault":1.15, "Burglary":1.05, "Harassment":1.12};
      return clamp(score * (w[cat]||1), 0, 100);
    }

    function predict(){
      const st = document.getElementById('state').value;
      const city = document.getElementById('city').value.trim();
      const time = document.getElementById('time').value;
      const weekday = document.getElementById('weekday').value;
      const month = +document.getElementById('month').value;
      const density = +document.getElementById('density').value;
      const policing = document.getElementById('policing').value;
      const lighting = document.getElementById('lighting').value;
      const category = document.getElementById('category').value;

      // baseline
      let score = (stateBase[st] ?? 37);

      // time of day adjustments
      if(time === 'Evening') score += 6;
      if(time === 'Night') score += 14;

      // day type
      if(weekday === 'Weekend') score += 4;
      if(weekday === 'Holiday/Event') score += 7;

      // simple seasonality (monsoon & festive spikes demo)
      if([7,8,9].includes(month)) score += 3;     // Jul–Sep
      if([10,11].includes(month)) score += 6;     // Oct–Nov (festive)

      // density: normalize 50..30000 to 0..15
      const dNorm = (density - 50) / (30000 - 50);
      score += dNorm * 15;

      // policing & lighting modifiers
      if(policing === 'Low') score += 8; else if(policing === 'High') score -= 6;
      if(lighting === 'Poor') score += 6; else if(lighting === 'Good') score -= 4;

      // tiny city text signal (crowded CBDs)
      if(/(market|bazar|station|central|junction)/i.test(city)) score += 4;

      // category weighting
      score = weightByCategory(category, score);

      // clamp and round
      score = Math.round(clamp(score, 0, 100));

      render(score, {st, city, time, weekday, month, density, policing, lighting, category});
      persist();
    }

    function levelFromScore(s){
      if(s < 35) return {text:'Low', class:'low', color:'var(--ok)'};
      if(s < 70) return {text:'Medium', class:'med', color:'var(--warn)'};
      return {text:'High', class:'high', color:'var(--bad)'};
    }

    function render(score, ctx){
      const g = document.getElementById('gauge');
      const sc = document.getElementById('score');
      const lv = document.getElementById('level');
      sc.textContent = score;
      const L = levelFromScore(score);
      lv.textContent = L.text + ' risk';
      lv.className = 'pill ' + L.class;
      g.style.setProperty('--value', score);
      g.style.setProperty('--color', L.color);

      const ex = document.getElementById('explain');
      ex.innerHTML = '';
      const notes = [];
      notes.push([`Baseline for ${ctx.st||'selected state'}`, `State baseline score influenced the starting point.`]);
      notes.push([`Time: ${ctx.time}`, ctx.time==='Night'? 'Risk increased due to late hours.':'Moderate adjustment based on time of day.']);
      notes.push([`Day Type: ${ctx.weekday}`, ctx.weekday==='Holiday/Event'? 'Event/holiday crowds can increase incidents.':'Small effect added.']);
      notes.push([`Density ~ ${ctx.density}/km²`, 'Higher crowd density pushes risk upward in this heuristic.']);
      notes.push([`Police: ${ctx.policing}`, ctx.policing==='High'?'Reduced score for visible policing.':'Lower presence increases risk.']);
      notes.push([`Lighting: ${ctx.lighting}`, ctx.lighting==='Good'?'Well‑lit streets reduce risk.':'Poor lighting increases risk.']);
      notes.push([`Category: ${ctx.category}`, 'Weights tilt the score for this concern type.']);

      for(const [h, m] of notes){
        const el = document.createElement('div');
        el.className = 'item';
        el.innerHTML = `<div class="dot"></div><div><strong>${h}</strong><div class="muted">${m}</div></div>`;
        ex.appendChild(el);
      }
    }

    function resetForm(){
      document.getElementById('riskForm').reset();
      document.getElementById('dOut').textContent = document.getElementById('density').value;
      document.getElementById('score').textContent='—';
      document.getElementById('level').className='pill';
      document.getElementById('level').textContent='No score';
      document.getElementById('gauge').style.setProperty('--value', 0);
      document.getElementById('gauge').style.setProperty('--color', 'var(--warn)');
      document.getElementById('explain').innerHTML = `<div class="item"><div class="dot"></div><div><strong>How this works</strong><div class="muted">This is a <em>demo heuristic</em> (front‑end only). Replace with your own model or API.</div></div></div>`;
      localStorage.removeItem('riskDemoForm');
    }

    function persist(){
      const data = {
        state: state.value, city: city.value, time: time.value, weekday: weekday.value,
        month: month.value, density: density.value, policing: policing.value,
        lighting: lighting.value, category: category.value
      };
      localStorage.setItem('riskDemoForm', JSON.stringify(data));
    }

    (function restore(){
      const raw = localStorage.getItem('riskDemoForm');
      if(!raw) return;
      try{
        const d = JSON.parse(raw);
        for(const k in d){ if(document.getElementById(k)) document.getElementById(k).value = d[k]; }
        document.getElementById('dOut').textContent = document.getElementById('density').value;
        predict();
      }catch(e){console.warn('Restore failed', e)}
    })();
  </script>
</body>
</html>